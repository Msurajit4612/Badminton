<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Badminton Tournament Lottery</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif}
body{
    min-height:100vh;
    background-image:url("794a8c7d610aa877b32aebdd32265d0e_1200x1200_crop_center.jpg");
    background-size:cover;
    background-position:center;
}
.overlay{
    min-height:100vh;
    background:rgba(0,0,0,0.78);
    color:white;
    padding:20px;
    text-align:center;
}
h1,h2{margin:10px 0}
h2{color:#ffcc00}
.team-inputs{
    max-width:900px;
    margin:15px auto;
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
    gap:8px;
}
input{
    padding:8px;
    border-radius:6px;
    border:none;
}
button{
    padding:12px 28px;
    font-size:16px;
    border:none;
    border-radius:8px;
    background:#ffcc00;
    cursor:pointer;
    margin:6px;
}
button:disabled{background:#999;cursor:not-allowed}
.groups,.matches{
    display:flex;
    gap:20px;
    justify-content:center;
    flex-wrap:wrap;
    margin-top:15px;
}
.group,.match-box{
    width:260px;
    background:rgba(255,255,255,0.12);
    padding:15px;
    border-radius:12px;
}
ul{list-style:none}
li{
    padding:6px 0;
    border-bottom:1px solid rgba(255,255,255,0.25);
}

/* Loader */
.loader{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.92);
    display:none;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    z-index:999;
}
.court{
    width:80%;
    height:120px;
    border-top:3px solid white;
    border-bottom:3px solid white;
    margin-bottom:20px;
}
.shuttle{
    font-size:48px;
    animation:fly 1.2s linear infinite alternate;
}
@keyframes fly{
    from{transform:translateX(0)}
    to{transform:translateX(300px)}
}
</style>
</head>

<body>
<div class="overlay">

<h1>ğŸ¸ Badminton Tournament Fixture Lottery</h1>
<p>Enter 24 Team Names</p>

<div class="team-inputs" id="teamInputs"></div>

<button onclick="startDraw()">Draw Groups</button>
<button id="matchBtn" onclick="generateGroupMatches()" disabled>Generate Group Matches</button>
<button id="super6Btn" onclick="generateSuper6()" disabled>Generate Super 6</button>
<button id="semiBtn" onclick="generateSemiFinals()" disabled>Generate Semifinals</button>
<button id="finalBtn" onclick="generateFinal()" disabled>Generate Final</button>

<!-- GROUPS -->
<div class="groups">
    <div class="group"><h2>Group A</h2><ul id="groupA"></ul></div>
    <div class="group"><h2>Group B</h2><ul id="groupB"></ul></div>
    <div class="group"><h2>Group C</h2><ul id="groupC"></ul></div>
</div>

<!-- GROUP MATCHES -->
<h2>ğŸ¸ Group Matches</h2>
<div class="matches">
    <div class="match-box"><h2>Group A</h2><ul id="matchA"></ul></div>
    <div class="match-box"><h2>Group B</h2><ul id="matchB"></ul></div>
    <div class="match-box"><h2>Group C</h2><ul id="matchC"></ul></div>
</div>

<!-- SUPER 6 -->
<h2>ğŸ”¥ Super 6</h2>
<div class="groups">
    <div class="group"><h2>Group E</h2><ul id="groupE"></ul></div>
    <div class="group"><h2>Group F</h2><ul id="groupF"></ul></div>
</div>

<!-- SEMIFINAL -->
<h2>ğŸ¥Š Semifinals</h2>
<ul>
    <li id="semi1"></li>
    <li id="semi2"></li>
</ul>

<!-- FINAL -->
<h2 id="finalMatch"></h2>

</div>

<!-- Loader -->
<div class="loader" id="loader">
    <div class="court">
        <div class="shuttle">ğŸ¸</div>
    </div>
    <h2 id="loaderText">Processing...</h2>
</div>

<script>
const teamInputs=document.getElementById("teamInputs");
const loader=document.getElementById("loader");
const loaderText=document.getElementById("loaderText");

let finalGroups={A:[],B:[],C:[]};
let groupWinners={A:[],B:[],C:[]};
let super6={E:[],F:[]};
let semiWinners=[];

/* Create inputs */
for(let i=1;i<=24;i++){
    let input=document.createElement("input");
    input.placeholder="Team "+i;
    teamInputs.appendChild(input);
}

/* Utility */
function shuffle(arr){
    for(let i=arr.length-1;i>0;i--){
        const j=Math.floor(Math.random()*(i+1));
        [arr[i],arr[j]]=[arr[j],arr[i]];
    }
}

function showLoader(text,cb){
    loaderText.textContent=text;
    loader.style.display="flex";
    setTimeout(()=>{
        loader.style.display="none";
        cb();
    },2000);
}

/* Draw groups */
function startDraw(){
    let teams=[];
    document.querySelectorAll("input").forEach(i=>{
        if(i.value.trim()) teams.push(i.value.trim());
    });
    if(teams.length!==24){
        alert("Please enter all 24 teams");
        return;
    }
    showLoader("Drawing Groups...",()=>{
        shuffle(teams);
        finalGroups={A:[],B:[],C:[]};
        teams.forEach((t,i)=>{
            i%3===0?finalGroups.A.push(t):
            i%3===1?finalGroups.B.push(t):
            finalGroups.C.push(t);
        });
        showGroup("groupA",finalGroups.A);
        showGroup("groupB",finalGroups.B);
        showGroup("groupC",finalGroups.C);
        document.getElementById("matchBtn").disabled=false;
    });
}

function showGroup(id,list){
    const ul=document.getElementById(id);
    ul.innerHTML="";
    list.forEach(t=>{
        ul.innerHTML+=`<li>${t}</li>`;
    });
}

/* Group Matches */
function generateGroupMatches(){
    showLoader("Generating Group Matches...",()=>{
        createMatches("matchA",finalGroups.A,"A");
        createMatches("matchB",finalGroups.B,"B");
        createMatches("matchC",finalGroups.C,"C");
        document.getElementById("super6Btn").disabled=false;
    });
}

function createMatches(id,list,key){
    const ul=document.getElementById(id);
    ul.innerHTML="";
    let temp=[...list];
    shuffle(temp);
    groupWinners[key]=[];
    for(let i=0;i<temp.length;i+=2){
        let winner=Math.random()>0.5?temp[i]:temp[i+1];
        groupWinners[key].push(winner);
        ul.innerHTML+=`<li>${temp[i]} ğŸ†š ${temp[i+1]} â†’ âœ… ${winner}</li>`;
    }
}

/* Super 6 */
function generateSuper6(){
    showLoader("Generating Super 6...",()=>{
        let winners=[
            ...groupWinners.A,
            ...groupWinners.B,
            ...groupWinners.C
        ];
        shuffle(winners);
        super6.E=winners.slice(0,3);
        super6.F=winners.slice(3,6);
        showGroup("groupE",super6.E);
        showGroup("groupF",super6.F);
        document.getElementById("semiBtn").disabled=false;
    });
}

/* Semifinals */
function generateSemiFinals(){
    showLoader("Generating Semifinals...",()=>{
        shuffle(super6.E);
        shuffle(super6.F);

        let E1=super6.E[0], E2=super6.E[1];
        let F1=super6.F[0], F2=super6.F[1];

        let w1=Math.random()>0.5?E1:F2;
        let w2=Math.random()>0.5?E2:F1;

        semiWinners=[w1,w2];

        document.getElementById("semi1").textContent=
            `SF 1: ${E1} ğŸ†š ${F2} â†’ âœ… ${w1}`;
        document.getElementById("semi2").textContent=
            `SF 2: ${E2} ğŸ†š ${F1} â†’ âœ… ${w2}`;

        document.getElementById("finalBtn").disabled=false;
    });
}

/* Final */
function generateFinal(){
    showLoader("Final Match...",()=>{
        let champ=Math.random()>0.5?semiWinners[0]:semiWinners[1];
        document.getElementById("finalMatch").textContent=
            `ğŸ† FINAL: ${semiWinners[0]} ğŸ†š ${semiWinners[1]} â†’ ğŸ‘‘ ${champ}`;
    });
}
</script>

</body>
</html>
