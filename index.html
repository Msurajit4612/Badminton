<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Badminton Tournament Lottery</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif}
body{
    min-height:100vh;
    background:url("794a8c7d610aa877b32aebdd32265d0e_1200x1200_crop_center.jpg") center/cover;
}
.overlay{
    min-height:100vh;
    background:rgba(0,0,0,0.78);
    color:white;
    padding:20px;
    text-align:center;
}
h1{margin-bottom:10px}
h2{color:#ffcc00;margin:10px 0}
.team-inputs{
    max-width:900px;
    margin:15px auto;
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
    gap:8px;
}
.team-inputs input{
    padding:8px;
    border-radius:6px;
    border:none;
}
button{
    padding:12px 30px;
    font-size:16px;
    border:none;
    border-radius:8px;
    background:#ffcc00;
    cursor:pointer;
    margin:6px;
}
button:disabled{background:#aaa}
.groups,.matches{
    display:flex;
    gap:20px;
    justify-content:center;
    flex-wrap:wrap;
    margin-top:15px;
}
.group,.match-box{
    width:260px;
    background:rgba(255,255,255,0.12);
    padding:15px;
    border-radius:12px;
}
ul{list-style:none}
li{
    padding:6px 0;
    border-bottom:1px solid rgba(255,255,255,0.25);
}

/* Loader */
.loader{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.92);
    display:none;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    z-index:999;
}
.shuttle{
    font-size:48px;
    animation:fly 1s infinite alternate;
}
@keyframes fly{
    from{transform:translateX(-40px)}
    to{transform:translateX(40px)}
}
</style>
</head>

<body>

<div class="overlay">
<h1>üè∏ Badminton Tournament Fixture Lottery</h1>

<div class="team-inputs" id="teamInputs"></div>

<button onclick="startDraw()">Draw Groups</button>
<button id="matchBtn" onclick="generateGroupMatches()" disabled>Group Round Matches</button>
<button id="nextBtn" onclick="generateNextRound()" disabled>Next Round</button>
<button id="superBtn" onclick="generateSuperSix()" disabled>Super Six</button>

<!-- Groups -->
<div class="groups">
    <div class="group"><h2>Group A</h2><ul id="groupA"></ul></div>
    <div class="group"><h2>Group B</h2><ul id="groupB"></ul></div>
    <div class="group"><h2>Group C</h2><ul id="groupC"></ul></div>
</div>

<!-- Group Matches -->
<h2>üè∏ Group Round Matches</h2>
<div class="matches">
    <div class="match-box"><h2>Group A</h2><ul id="matchA"></ul></div>
    <div class="match-box"><h2>Group B</h2><ul id="matchB"></ul></div>
    <div class="match-box"><h2>Group C</h2><ul id="matchC"></ul></div>
</div>

<!-- Next Round -->
<h2>üèÜ Next Round Fixtures</h2>
<div class="matches">
    <div class="match-box"><h2>Group A</h2><ul id="nextA"></ul></div>
    <div class="match-box"><h2>Group B</h2><ul id="nextB"></ul></div>
    <div class="match-box"><h2>Group C</h2><ul id="nextC"></ul></div>
</div>

<!-- Super Six -->
<h2>üî• Super Six</h2>
<div class="matches">
    <div class="match-box"><h2>Group E</h2><ul id="groupE"></ul></div>
    <div class="match-box"><h2>Group F</h2><ul id="groupF"></ul></div>
</div>
</div>

<!-- Loader -->
<div class="loader" id="loader">
    <div class="shuttle">üè∏</div>
    <p id="loaderText">Processing...</p>
</div>

<script>
const teamInputs = document.getElementById("teamInputs");
const loader = document.getElementById("loader");
const loaderText = document.getElementById("loaderText");
const matchBtn = document.getElementById("matchBtn");
const nextBtn = document.getElementById("nextBtn");
const superBtn = document.getElementById("superBtn");

let finalGroups = {A:[], B:[], C:[]};
let nextRoundMatches = {A:[], B:[], C:[]};

for(let i=1;i<=24;i++){
    const input = document.createElement("input");
    input.placeholder = "Team " + i;
    teamInputs.appendChild(input);
}

function shuffle(arr){
    for(let i=arr.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [arr[i],arr[j]] = [arr[j],arr[i]];
    }
}

function showLoader(text, cb){
    loaderText.textContent = text;
    loader.style.display = "flex";
    setTimeout(()=>{
        loader.style.display="none";
        cb();
    },1500);
}

function startDraw(){
    let teams=[];
    document.querySelectorAll(".team-inputs input").forEach(i=>{
        if(i.value.trim()) teams.push(i.value.trim());
    });
    if(teams.length!==24){
        alert("Please enter all 24 team names");
        return;
    }
    showLoader("Drawing Groups...",()=>{
        shuffle(teams);
        finalGroups={A:[],B:[],C:[]};
        teams.forEach((t,i)=>{
            finalGroups[i%3===0?"A":i%3===1?"B":"C"].push(t);
        });
        showGroup("groupA",finalGroups.A);
        showGroup("groupB",finalGroups.B);
        showGroup("groupC",finalGroups.C);
        matchBtn.disabled=false;
    });
}

function showGroup(id,list){
    const ul=document.getElementById(id);
    ul.innerHTML="";
    list.forEach(t=>{
        const li=document.createElement("li");
        li.textContent=t;
        ul.appendChild(li);
    });
}

function generateGroupMatches(){
    showLoader("Generating Group Matches...",()=>{
        createMatches("matchA",finalGroups.A);
        createMatches("matchB",finalGroups.B);
        createMatches("matchC",finalGroups.C);
        nextBtn.disabled=false;
    });
}

function createMatches(id,list){
    let temp=[...list];
    shuffle(temp);
    const ul=document.getElementById(id);
    ul.innerHTML="";
    for(let i=0;i<temp.length;i+=2){
        ul.innerHTML += `<li>${temp[i]} üÜö ${temp[i+1]}</li>`;
    }
}

function generateNextRound(){
    showLoader("Generating Next Round...",()=>{
        createNextRound("nextA","A");
        createNextRound("nextB","B");
        createNextRound("nextC","C");
        superBtn.disabled=false;
    });
}

function createNextRound(id, groupKey){
    let temp=[...finalGroups[groupKey]];
    shuffle(temp);

    const matches = [
        [temp[0], temp[1]],
        [temp[2], temp[3]]
    ];

    nextRoundMatches[groupKey] = matches;

    const ul=document.getElementById(id);
    ul.innerHTML="";
    matches.forEach(m=>{
        ul.innerHTML += `<li>${m[0]} üÜö ${m[1]}</li>`;
    });
}

function generateSuperSix(){
    showLoader("Generating Super Six...",()=>{

        let superSix = [];

        ["A","B","C"].forEach(g=>{
            nextRoundMatches[g].forEach(match=>{
                const winner = Math.random() > 0.5 ? match[0] : match[1];
                superSix.push(winner);
            });
        });

        shuffle(superSix);

        showGroup("groupE", superSix.slice(0,3));
        showGroup("groupF", superSix.slice(3,6));
    });
}
</script>

</body>
</html>
